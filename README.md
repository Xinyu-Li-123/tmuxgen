# tmuxgen

Hate to create a bunch of windows in tmux repeatedly every time you reboot your laptop? Want to setup your daily tmux workspace with one line of command? This is the tool for you!

This is a cli tool written in Python that generates a script from a toml config, where the script creates a tmux session. The config file defines what's inside of the tmux session, such as "what window to create", "name of each window", "what to run inside each window", etc.

Such a script will save you the repetitive effort to open up a bunch of windows every time you reboot your computer. Compared to existing tmux session saver, this tool also allows you to define some initial commands to be executed in each window.

As an example, here is a config and the corresponding tmux script it will generate. The config defines a tmux session with four windows:

1. nv-ws: cd to workspace folder, and open neovim

2. ws: cd to workspace

3. cmu: cd to cmu folder

4. blog: cd to blog folder, and open neovim

Config file

```toml
[session]
name = "my_session"
default_dir = "${HOME}/workspace"
attach = true
focus_window = "nv-ws"

[env]
BLOG_HOME = "/path/to/blog/root"

[[windows]]
name = "nv-ws"
dir = "."
  [[windows.actions]]
  type = "send"
  text = "nv ."
  enter = true

  [[windows.actions]]
  type = "sleep"
  ms = 80

  [[windows.actions]]
  type = "keys"
  seq  = ["Space", "e", "Space", "q", "s"]

[[windows]]
name = "ws"
dir = "."

[[windows]]
name = "cmu"
dir = "/home/eiger/CMU/2025_Fall"

[[windows]]
name = "blog"
dir = "\${BLOG_HOME}"
  [[windows.actions]]
  type = "send"
  text = "nv ."
  enter = true
```

Command to execute to generate the tmux script

```bash
python -m tmuxgen.cli examples/tmux-session.toml -o work.sh
chmod +x work.sh
./work.sh
```

The generated script.

```bash
#!/bin/bash

# Generated by tmuxgen â€“ sets up a tmux session per config
# Tip: alias it, e.g., alias work='/path/to/generated.sh'

SESSION_NAME=my_session
SESSION_PATH=/home/eiger/workspace

# Create a new detached session with the first window
tmux new-session -d -s my_session -c /home/eiger/workspace -n nv-ws

# Actions for window: nv-ws
tmux send-keys -t my_session:nv-ws -l 'nv .'
tmux send-keys -t my_session:nv-ws Enter
sleep 0.080
tmux send-keys -t my_session:nv-ws Space e Space q s

# Create window: ws
tmux new-window -t my_session -c /home/eiger/workspace -n ws

# Create window: cmu
tmux new-window -t my_session -c /home/eiger/CMU/2025_Fall -n cmu

# Create window: blog
tmux new-window -t my_session -c /home/eiger/Blog/myblog/ -n blog
# Actions for window: blog
tmux send-keys -t my_session:blog -l 'nv .'
tmux send-keys -t my_session:blog Enter

# Focus window: nv-ws
tmux select-window -t my_session:nv-ws

# Attach to session
tmux attach-session -t my_session
```

## TODO

- [ ] Determine how env var should be specified.

    e.g. if `$BLOG_HOME` appear in the config, do we want to expand it or not? Currently, expansion by default.
